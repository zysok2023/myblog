# 数据指标体系

## 1.指标定义

业务发展过程中，企业内外部都会产生很多的业务数据，对这些数据进行采集、计算、落库、分析后，形成的统计结果称为指标。指标是业务被拆解、量化后形成的数量特征，包括定性和定量两部分内容，定性部分通常在指标中指维度，用来描述指标的观察视角，定量部分指度量，用来描述指标的数值结果。

![Imgur](https://i.imgur.com/YeWyxyS.png)

## 2.指标理解

![指标-理解](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-理解.png)

* 单独存在的度量、维度都不是指标
* 用表格描述指标的最小集是二维表，单独一列没有任何意义，不具备可读性
* 绝大多数指标都是多维表的形态：【维度1】【维度2】【维度3】【维度n…】【度量1】【度量2】【度量3】【度量n…】

![指标-多维度](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-多维度.png)

- 业务范围帮助我们缩小和明确了处理数据和理解指标的范围
- 如果维度不断增多，那么数据表就是一个很宽的表。也就是常说的“大宽表”
- 条件限定的加入，产生了更灵活的指标形式

## 3.指标分类

指标分为原子指标、派生指标和复合指标，原子指标+修饰词+时间周期构成派生指标，指标之间的加减乘除运算一般归为复合指标，新版指标系统中将原子指标进一步细分为了主原子指标和衍生原子指标，不同点是衍生原子指标需要由主原子指标+衍生词构成。

* 原子指标

  原子指标是指数据分析中最小的可度量单元，通常是一个数值或一个计数。原子指标是数据分析的基础，它们可以用来描述某个特定的事件、行为或状态，如销售额、访问量、转化率等。原子指标通常是不可再分的，因为它们已经是最小的可度量单元了。按照上面的例子来说，原子指标可以理解为是度量，例如【销售金额】【播放VV】【播放时长】【访问次数】等等，这些度量是不可拆解的。

  原子指标用于明确业务的统计口径及计算逻辑。具备以下特性:

1) 原子指标是对指标统计口径算法的一个抽象，等于业务过程（原子的业务动作）+ 统计方式。例如，支付（事件）金额（度量），曝光（事件）次数（度量）
2) 原子指标不会独立存在，一定是结合业务范围，维度进行组合才有意义
3) 原子指标加维度可以理解为一个度量在不同视角下的变化
4) 原子指标通常是其他指标的基础，可以通过对原子指标的分析来得出更高级别的指标。理解原子指标是整个指标管理模型中非常重要的一环。

* 派生指标

  派生指标在业务限定的范围内，由原子指标、时间周期、维度三大要素构成，用于统计目标指标在具体时间、维度、业务条件下的数值表现，反映企业某一业务活动的业务状况。

![指标-派生指标定义](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-派生指标定义.png)

不同的派生指标可能具有相同的原子指标，这样派生指标就定义了一种等价关系，而属于相同的原子指标就构成了一个对指标体系的划分。在每一个划分中，存在一个可以派生出其他指标的最小派生指标，即最细粒度。

* 复合指标

  派生指标的另一个类型是复合指标，如果把它单独独立出来也可以，如果把它归类为原子指标也可以，取决于我们如何做数据的开发以及应用。先来看几个复合指标的例子：

1) 平均销售价格：派生指标是通过销售额和销售量计算得出的，它反映了每个产品的平均售价。原子指标是销售额和销售量。
2) 转化率：派生指标是通过访问量和转化量计算得出的，它反映了每个渠道的转化效果。原子指标是访问量和转化量。
3) 客户生命周期价值：派生指标是通过客户平均购买金额、购买频率和客户保留率计算得出的，它反映了每个客户对企业的贡献价值。原子指标是客户购买金额、购买频率和客户保留率。

   上面三个例子都是在原子指标间进行计算的**原子级复合指标** 。

   也可以通过两个派生指标来计算复合指标，例如派生指标是：近七天北京地区IPAD的平均销售价格=近七天北京地区IPAD的销售额/近七天北京地区IPAD的销售量。

   也就是说，可以通过结果来进行计算，平均销售价格并不会在数据加工中直接计算。

****修饰词和衍生词****

修饰词是对指标进行限定抽象的业务限定，修饰词归属于一种修饰词类型，比如日志域的访问终端类型，包含修饰词PC端、无线端等。

衍生词是对于原子指标中带有计算口径的词进行了抽象定义，比如活跃：每天访问网站的次数超过20次的才记为活跃；新消：首次支付成功且当日未取消订单的用户。活跃和新消可以作为衍生词，衍生词+主原子指标构成衍生原子指标。

## 4.指标要素

![指标-要素](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-要素.png)

![指标-要素和sql](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-要素和sql.png)

我们把【原子指标】【时间周期】【业务范围】【维度】【条件限定】统称为指标要素，他们是指标的实体组织。

其中：

- 【原子指标】就是度量，它确定了统计目标和聚合方法
- 【时间周期】是一种特殊的维度，它确定了统计的时间范围，从什么时间开始，从什么时间结束
- 【业务范围】是一种特殊的维度，它确定了统计目标的范围
- 【时间周期】和【业务范围】单独拿出来，是为了更好的表达指标的意义
- 【条件限定】是对统计数据进行自由剪裁的过程
- 【维度】是我们用于观察统计目标的视角，可以有”无限个”维度

## 5.指标管理

把指标抽象成指标要素便于我们统一对指标的理解，其实更重要的目的是便于使用与管理。管理上的意义在于能够做到指标开发使用从无边界到有边界的过程，逐步收敛覆盖，另一层面能够做好统一的标准，最后由此做基础，向上放射到不同的系统、环境中去，形成整体的生态。

### 5.1 覆盖和收敛

![指标-覆盖和收敛](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-覆盖和收敛.png)

根据派生指标的概念，通过【原子指标】+【维度】+【时间周期】+【条件限定】组成了一个派生指标，当每一个指标元素出现大于1的情况时，就会出现多个派生指标，计算方法是它们的乘积。

例如上面的情况，3个【原子指标】*4个【维度值】*3个【时间周期】*2个【条件限定】=72个派生指标。

指标在使用的过程中，不论是口头交谈还是系统展示，都会以上图右边的形式来体现，【视频业务日销售额】谁都可以读懂。没有哪个用户去把指标拆解成这些要素来沟通，除非出现数据问题。所以我们在报表、汇报、业务沟通的过程中，都是如【视频业务日销售额】的指标形式体现出来的。

这样对于管理有一个非常大的好处，**可以基于指标要素的组合进行最大可能的使用覆盖。**

根据业务的实际诉求，完成分析体系的建设：确定分析框架，确定分析类别，确定分析场景等等，例如用户行为分析、业绩分析、经营分析、安全性分析、竞对分析、财务分析..等多个场景。基于这些分析框架，可以逐步的抽象出指标要素，确定有多少个【原子指标】+【维度】，然后就可以大致的得出，我们能够覆盖”多少个“指标了。

 这样做的好处在于，业务用到的绝大多数指标，都是可以覆盖在指标要素组成的这些结果之内的，**指标管理者、开发者只需要关注指标要素的增减即可，不用根据具体的需求****CASE BY CASE ****的去完成任务，大大减少了管理和开发成本，从而实现了“收敛”****。**

### 5.2 及时性的提升

如果已经确定好指标要素【原子指标】+【维度】+【时间周期】+【条件限定】，这些指标就可以提前进行计算：

![指标-组合](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-组合.png)

把指标要素组合的指标，提前进行预算，因为是结果集，即便是组合再多，也能控制在百万、千万级别，或者是分块、分组来存储，这样就有数据量级小的特性，我们可以把结果存入到响应速度更快的内存数据库中，完成“ **空间换时间”** ，解决大多数人无法等待超长时间的计算过程。

即便大数据技术发展到今天，如SPARK、clickhouse等大规模秒级响应的查询技术已经很成熟了，这种空间换时间的方式依然非常受用。从成本的角度来讲，非常划算。

### 5.3 命名的统一性

如果使用指标要素的管理理念来生产、管理指标，在用户使用指标的时候，可以做到指标名称的统一性。

回顾来看，所有应用的指标都可以认为是派生指标，派生指标的指标元素中，有哪些可以参与命名，哪些不用参与命名：

   ![指标-派生指标命名](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-派生指标命名.png)

指标的命名规范性，直接影响使用者对指标的理解，并能够影响到整个指标使用的效果，如果命名不规范，会导致大家认知出现偏差，经常会出现不同名称同一指标，甚至还有同一指标不同名称的情况，增加大家的沟通对齐成本。

**指标命名的基本原则：简短易懂，便于传播，不易出现理解偏差。**

【时间周期】必须参与命名，累计、昨日、月度、周；时间周期最直接的圈定了统计的范围，需要明确的展示在指标名称上，简单直接，避免不同人的理解歧义，减少错误发生的几率。

【原子指标】必须参与命名，指标的核心。

【业务范围】可参与命名，如果在系统、使用场景流程做的比较的情况下，可不用参与命名。

例如，进入到”视频业务“的专属分析系统中，系统对业务有明确的划分板块，例如进入”电影“板块，指标名称就无需带上【电影】这个业务范围了，比如昨日电影播放量就可以直接写成播放量即可。

【条件限定】不参与命名。条件限定有量个非常重要的特性，就是很容易变长，二是它出现在指标建立之后的灵活应用上，是临时性效果。

例如【昨日播放量】这个条件是：大于18岁，中国地区，IOS端，会员，近30天未登录的，如果参与命名的话就是：

【会员IOS端中国区大于18岁其近30天未登录的昨日播放量】这样读起来就非常别扭。而且组合条件还需要考虑语言的通顺性，例如这样组合

【大于18岁中国区IOS端近30天未登录会员昨日播放量】读起来就会拗口。

另外，很多条件限定都是临时性提出的，例如年龄大于18岁，但是有可能随时调整到16岁，如果按照人的年龄分布来讲，我们可以从1岁到100岁这100个数字都当做限定条件，这样指标就会无限增多膨胀，增大开发、管理、使用成本。

【维度】不参与指标命名，维度与条件限定相同，它具有无限扩展的情况，并且无法从语言上让指标变得易于理解。

例如【昨日播放量】支持维度：销售渠道、城市、端、业务类型，加入维度后的命名是【昨日播放量销售渠道城市端业务类型】这样指标就变的不可读。

实际情况是维度在分析过程中参与GROUP BY 过程，例如表格中的分组，报表中的下钻过程，实际上指标命名带上维度没有意义，可以在应用的过程中，告知用户支持什么维度。

### 5.4  一致性与生态

运用指标要素的指标管理模型，本质上是抽象+收敛的过程，确定少量的指标要素，覆盖大多数的使用指标，减少开发、运维、管理和认知成本。一致性问题同样可以在这个模型中被解决。

业务基于这个模型思路，去构建自己的指标模型，并用系统加以管理，当做整个生态的底层基础。

建立在这个模型之上，可以对接更上层的应用系统，例如报表工具，业务分析系统，用户管理系统，经营分析系统等设计到指标应用的场景中，从而让整个业务、数据分析系统生态中都利用起这个模型的思想。

![指标-管理要素](https://cdn.jsdelivr.net/gh/zysok2023/cloudImg/blogs/picture/指标-管理要素.png)

## 6.指标命名

指标命名公式=限定词+业务主题+指标名称+量化词

![Imgur](https://i.imgur.com/ZUXT0Mk.png)

**举个例子：当天**（限定词）**首次下单并完成支付**（业务主题）**新用户的销售额**（指标名称）**次数**（量化词）

## 7.指标体系

指标体系则是围绕某一业务主题，基于一定的逻辑关系和层次结构，将相互独立又彼此关联的指标连接起来组成的有机整体。指标体系是对业务过程的全面完整的刻画，同时也涉及对指标的分类分级和标准化管理，以此来综合判断影响业务发展的市场、企业管理等因素的具体情况，基于数据的变化做决策优化、战略迭代等，进而实现业务的稳健增长。

![Imgur](https://i.imgur.com/qXYMEda.png)

在销售指标体系中，用销售金额来衡量销售活动的直接效果，用销售订单数来衡量销售活动规模，在此基础上产生订单单价 = 销售金额 / 销售订单数，用于衡量产品价值。基于销售金额拆分，销售金额 = 销售回款金额 + 销售在途金额。而在分析销售表现时，则可以从不同维度来剖析这些指标，如按时间序列分析销售趋势，按地区分布揭示销售热点，按商品类别研究产品销售结构等，从而基于这些数据驱动的洞察作出更为精准的决策优化和战略迭代，推动业务稳健增长。

![Imgur](https://i.imgur.com/lmeXNYV.png)

## 8.指标体系的建设流程

### 8.1 业务梳理与指标体系框架指定

这个过程中首先要做的就是基于企业当前发展阶段确定其北极星指标，然后将指标分拆到各个业务去确定各个业务的业务目标，这个是后续指标拆解的基础。如企业当前处于成熟期，整体需要实现利润的提升，这里对于企业而言的北极星指标就是提升利润，拆分到各个业务则可能会是销售部门提升收入、生产部门提升生产效率、财务部门提升所得税有效性、人力资源部提高企业服务效率等。业务目标的拆解过程可以参考 OSM 模型做拆解。下图对提升收入的目标做了简单的思路拆解，过程中的每一步其实都是一个业务目标。

![Imgur](https://i.imgur.com/6nmXZiI.png)

### 8.2 基于业务目标做业务过程的拆解

这里可以参考企业价值模型、企业组织架构等做业务的拆分。如在整体提升销售获客能力这个目标前提下，涉及的业务过程包括开发客户、服务方案制定、售后管理等等，每个业务过程又包含了很多的过程步骤，如开发客户的过程中包含了获得客户清单、分析客户诉求、制定客户开发方案、方案执行跟进等子过程。通过一步步的业务过程拆解梳理，构建完整的业务流程，为指标体系建设的全面性做准备。此外，也可以利用一些行业通用模型做业务拆分，如针对供应链体系，可以使用 SCOR 模型去描述供应链的各个环节；针对营销获客，可以利用AARRR模型去构建用户生命周期的重要信息。

![Imgur](https://i.imgur.com/W34wAQD.png)

### 8.3 基于业务过程梳理确定分析主题

如上面提到的获得客户清单这个过程，涉及的就需要门店管理、客户管理、客户价值管理等多种分析主题。需要注意的是，分析主题的确定需要结合过去经验、当下现状以及未来发展展望去综合分析，如基于未来多样化的营销场景，还可以产生智能预测分析主题。

### 8.4 校验整合信息形成指标体系框架

在上面的梳理过程中，我们整体完成的是自上而下的过程拆解与指标体系框架所需要素的收集，接下来就是要自下而上地确定各个分析主题对上层业务目标的贡献，以此来校验这个分析主题的有效性。随后便可整合各个业务领域及分析主题，形成初版的指标体系框架。

![Imgur](https://i.imgur.com/74yYYje.png)

## 9.业务指标梳理

业务指标梳理涉及三部分内容：一是业务分析所需指标清单的梳理、二是分析数据所需的维度的确定、三是建立指标和维度之间的映射关系。

### 9.1业务分析所需指标清单的梳理

首先，是基于业务梳理后产生的各个业务流程去细化每个过程所需要的可用指标，并将指标关联到对应的分析主题上。整个指标体系中的绝大多数内容都是直接来自这一步骤。在梳理的过程中，可以先将企业内部面向各个业务方呈现在看板、报表、邮件、业务系统、报告平台上历史指标做一个汇总，根据其体现的业务场景挂到对应的分析主题下，再结合业务过程进行查漏补缺，以提高指标体系的建设速度。
其次，再基于领域常用模型建立相关指标，如利用 RFM 模型建设客户价值相关指标。这里的构建内容主要是基于企业自身当前业务需要来的，在此基础上也可以寻找一些行业标杆企典型的指标体系构建模版及行业监管必要指标等融合到现有的指标体系中，以助力业务方发现业务增长点。与确定指标体系框架的过程类似，业务指标的梳理也需要考虑时间因素，综合考量过去经验、当下现状以及未来发展展望所存在的关键指标。

![Imgur](https://i.imgur.com/yXJBiQ7.png)

### 9.2分析数据所需的维度的确定

同样也是基于前文梳理的业务过程去确定每个过程需要的分析维度，构建维度清单。维度主要包括两部分：时间维度及业务维度。维度的建设需要以业务价值为导向，无效维度可不作为建设标准。维度建设至少包含三部分内容：维度类别、维度名称、维度枚举值，如：产品维度下包含产品类型、产品所属商家、产品质量等级等，这些维度主要来自历史已经生成的维表，从中选择业务方主要使用的指标维度。

![Imgur](https://i.imgur.com/dTudSwy.png)

### 9.3建立指标和维度之间的映射关系

建立指标和维度之间的关联关系。综合考虑指标含义、维度含义，确定指标可分析的维度范围，将其纳入后续指标可用的统计维度。

![Imgur](https://i.imgur.com/Kd1x85Y.png)

## 10.指标清单梳理

通过上述两个步骤，已经确定了指标体系框架、指标、维度内容。接下来就需要考虑指标加工因素。这一步骤主要是对指标做模块化拆分，并建立指标和指标间的关联关系。

第一步：确定指标含义，更新频率等业务信息。这一步骤在前面梳理指标的
过程中可以同步确定。

第二步：定义确定统计范围，指标计算逻辑。

第三步：根据指标计算逻辑找到指标间的加工关联关系，形成指标树。这里
需要考虑各指标的统计范围是符合期望的，否则基于生成树加工的指标可能会产
生数据错误。指标树的叶子节点通常是不可再分的指标。拆分过程中如果遇到新
的指标，则补充到相应分析主题下。指标树的建设需要遵循 MECE 原则，即同一
分支下的指标需要保持互斥，避免进行数据下钻分析的过程中产生数据交叉影响
分析思路，甚至因错误思路导致作出错误决策。

第四步：确定叶子节点的指标计算所用数据源表，建立数据模型。

![Imgur](https://i.imgur.com/M4B4r5R.png)

最后，结合前文梳理的指标体系框架、指标、指标维度，形成完整的指标体系。至此整体的指标体系建设完成，形成如下格式规范的一套指标体系。

![Imgur](https://i.imgur.com/kWsOHKV.png)

基于这套完善的指标体系建设形成的指标结果，业务人员便可更加高效地系统化分析数据，赋能业务增长。这些指标及其产生的联动影响也会沉淀为企业珍贵的数据资产。
